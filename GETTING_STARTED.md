# New API Mobile Admin - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“± é¡¹ç›®è¯´æ˜

è¿™æ˜¯ New API çš„ç§»åŠ¨ç«¯ç®¡ç†å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ Flutter å¼€å‘ï¼Œæ”¯æŒ iOS å’Œ Android å¹³å°ã€‚

## âœ¨ å·²å®ç°åŠŸèƒ½

### âœ… åŸºç¡€æ¡†æ¶
- [x] é¡¹ç›®ç»“æ„æ­å»º
- [x] ä¾èµ–é…ç½®ï¼ˆpubspec.yamlï¼‰
- [x] ä¸»é¢˜é…ç½®ï¼ˆäº®è‰²/æš—è‰²ä¸»é¢˜ï¼‰
- [x] è·¯ç”±é…ç½®ï¼ˆgo_routerï¼‰
- [x] API æœåŠ¡å°è£…

### âœ… æ•°æ®æ¨¡å‹
- [x] Userï¼ˆç”¨æˆ·æ¨¡å‹ï¼‰
- [x] Channelï¼ˆæ¸ é“æ¨¡å‹ï¼‰
- [x] Logï¼ˆæ—¥å¿—æ¨¡å‹ï¼‰

### âœ… æœåŠ¡å±‚
- [x] ApiServiceï¼ˆåŸºç¡€ HTTP æœåŠ¡ï¼‰
- [x] AuthServiceï¼ˆè®¤è¯æœåŠ¡ï¼‰
- [x] UserServiceï¼ˆç”¨æˆ· APIï¼‰
- [x] ChannelServiceï¼ˆæ¸ é“ APIï¼‰
- [x] LogServiceï¼ˆæ—¥å¿— APIï¼‰

### â³ å¾…å®Œå–„åŠŸèƒ½
- [ ] ç™»å½•é¡µé¢ UI
- [ ] ä¸»é¡µåº•éƒ¨å¯¼èˆª
- [ ] ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€ç¼–è¾‘ï¼‰
- [ ] æ¸ é“ç®¡ç†é¡µé¢ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€ç¼–è¾‘ã€æµ‹è¯•ï¼‰
- [ ] æ—¥å¿—ç®¡ç†é¡µé¢ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€ç»Ÿè®¡ï¼‰
- [ ] çŠ¶æ€ç®¡ç†ï¼ˆRiverpod Providersï¼‰
- [ ] é€šç”¨ UI ç»„ä»¶ï¼ˆå¡ç‰‡ã€å¾½ç« ã€ç©ºçŠ¶æ€ç­‰ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

```bash
flutter --version
# Flutter SDK >= 3.0.0
# Dart SDK >= 3.0.0
```

### 2. å®‰è£…ä¾èµ–

```bash
cd mobile
flutter pub get
```

### 3. é…ç½®æœåŠ¡å™¨åœ°å€

ç¼–è¾‘ `lib/config/api_config.dart`ï¼š

```dart
static const String defaultBaseUrl = 'http://your-server.com';
// ä¾‹å¦‚: 'http://192.168.1.100:3000' æˆ– 'https://api.example.com'
```

### 4. è¿è¡Œé¡¹ç›®

```bash
# iOS æ¨¡æ‹Ÿå™¨
flutter run -d iPhone

# Android æ¨¡æ‹Ÿå™¨
flutter run -d emulator-5554

# çœŸæœº
flutter devices  # æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨
flutter run -d <device-id>
```

### 5. æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
# Android APK
flutter build apk --release
# è¾“å‡º: build/app/outputs/flutter-apk/app-release.apk

# iOS (éœ€è¦ macOS + Xcode)
flutter build ios --release
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
mobile/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                    # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ api_config.dart         # API ç«¯ç‚¹é…ç½®
â”‚   â”‚   â”œâ”€â”€ routes.dart             # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ theme.dart              # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.dart               # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ channel.dart            # æ¸ é“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ log.dart                # æ—¥å¿—æ¨¡å‹
â”‚   â”œâ”€â”€ services/                    # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api_service.dart        # HTTP åŸºç¡€æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ auth_service.dart       # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user_service.dart       # ç”¨æˆ· API
â”‚   â”‚   â”œâ”€â”€ channel_service.dart    # æ¸ é“ API
â”‚   â”‚   â””â”€â”€ log_service.dart        # æ—¥å¿— API
â”‚   â”œâ”€â”€ providers/                   # çŠ¶æ€ç®¡ç†ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ screens/                     # é¡µé¢ï¼ˆå ä½ä¸­ï¼‰
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ channels/
â”‚   â”‚   â””â”€â”€ logs/
â”‚   â””â”€â”€ widgets/                     # é€šç”¨ç»„ä»¶ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ pubspec.yaml                     # ä¾èµ–é…ç½®
â””â”€â”€ README.md
```

---

## ğŸ”§ å¼€å‘è¯´æ˜

### ä¿®æ”¹ API åœ°å€

1. æ‰“å¼€ `lib/config/api_config.dart`
2. ä¿®æ”¹ `defaultBaseUrl` ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `lib/models/` ä¸­å®šä¹‰æ•°æ®æ¨¡å‹
2. åœ¨ `lib/services/` ä¸­å®ç° API è°ƒç”¨
3. åœ¨ `lib/screens/` ä¸­åˆ›å»ºé¡µé¢
4. åœ¨ `lib/config/routes.dart` ä¸­é…ç½®è·¯ç”±

### è°ƒè¯•æŠ€å·§

```bash
# çƒ­é‡è½½ï¼ˆä¿®æ”¹ä»£ç åç«‹å³ç”Ÿæ•ˆï¼‰
æŒ‰ r é”®

# çƒ­é‡å¯ï¼ˆé‡æ–°å¯åŠ¨åº”ç”¨ï¼‰
æŒ‰ R é”®

# æŸ¥çœ‹æ—¥å¿—
flutter logs

# æ€§èƒ½åˆ†æ
flutter run --profile
```

---

## ğŸ“¦ æ ¸å¿ƒä¾èµ–è¯´æ˜

| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|-----|
| flutter_riverpod | ^2.5.1 | çŠ¶æ€ç®¡ç† |
| dio | ^5.4.3 | HTTP ç½‘ç»œè¯·æ±‚ |
| flutter_secure_storage | ^9.0.0 | å®‰å…¨å­˜å‚¨ï¼ˆTokenï¼‰|
| go_router | ^14.0.2 | è·¯ç”±ç®¡ç† |
| flutter_screenutil | ^5.9.0 | å±å¹•é€‚é… |
| fluttertoast | ^8.2.4 | Toast æç¤º |

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ— æ³•è¿æ¥æœåŠ¡å™¨

- æ£€æŸ¥ `api_config.dart` ä¸­çš„ `defaultBaseUrl`
- ç¡®ä¿ç§»åŠ¨è®¾å¤‡å’ŒæœåŠ¡å™¨åœ¨åŒä¸€ç½‘ç»œ
- iOS æ¨¡æ‹Ÿå™¨ä½¿ç”¨ `localhost`ï¼ŒAndroid æ¨¡æ‹Ÿå™¨ä½¿ç”¨ `10.0.2.2`
- çœŸæœºä½¿ç”¨å±€åŸŸç½‘ IPï¼ˆå¦‚ `192.168.1.100`ï¼‰

### 2. ä¾èµ–å®‰è£…å¤±è´¥

```bash
flutter clean
flutter pub get
```

### 3. iOS ç¼–è¯‘é”™è¯¯

```bash
cd ios
pod install
cd ..
flutter run
```

### 4. Android ç¼–è¯‘é”™è¯¯

- æ£€æŸ¥ `android/app/build.gradle` ä¸­çš„ `minSdkVersion >= 21`
- ç¡®ä¿å®‰è£…äº† Android SDK

---

## ğŸ¨ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **å®Œå–„ç™»å½•é¡µé¢** - å®ç°ç¾è§‚çš„ç™»å½•ç•Œé¢å’Œè¡¨å•éªŒè¯
2. **å®ç°ç”¨æˆ·ç®¡ç†** - å®Œæ•´çš„ç”¨æˆ· CRUD åŠŸèƒ½
3. **å®ç°æ¸ é“ç®¡ç†** - æ¸ é“åˆ—è¡¨ã€æµ‹è¯•ã€å¯ç”¨/ç¦ç”¨
4. **å®ç°æ—¥å¿—æŸ¥çœ‹** - æ—¥å¿—åˆ—è¡¨ã€ç­›é€‰ã€ç»Ÿè®¡å›¾è¡¨
5. **æ·»åŠ ä¸‹æ‹‰åˆ·æ–°** - æ‰€æœ‰åˆ—è¡¨é¡µæ”¯æŒä¸‹æ‹‰åˆ·æ–°
6. **æ·»åŠ åˆ†é¡µåŠ è½½** - æ»šåŠ¨åŠ è½½æ›´å¤šæ•°æ®
7. **æ·»åŠ æœç´¢åŠŸèƒ½** - ç”¨æˆ·ã€æ¸ é“ã€æ—¥å¿—æœç´¢
8. **ä¼˜åŒ– UI/UX** - æå‡ç”¨æˆ·ä½“éªŒå’Œè§†è§‰æ•ˆæœ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issueï¼šhttps://github.com/Calcium-Ion/new-api/issues

---

## ğŸ“„ è®¸å¯è¯

AGPL-3.0 License